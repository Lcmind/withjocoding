<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Free Typing Speed Test! Measure your typing speed (WPM) and accuracy. Random texts every time!">
  <title>Typing Speed Test - Measure Your Typing Speed | WPM Test</title>

  <!-- Tailwind CSS -->
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            primary: '#667eea',
            secondary: '#764ba2',
          }
        }
      }
    }
  </script>

  <!-- Google AdSense -->
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1247545232353663"
     crossorigin="anonymous"></script>

  <style>
    .screen {
      display: none;
    }
    .screen.active {
      display: flex;
    }
  </style>
</head>
<body class="min-h-screen bg-gradient-to-br from-green-500 to-teal-600">

  <!-- ì–¸ì–´ ì„ íƒ -->
  <div class="fixed top-4 right-4 z-50">
    <select id="language-selector" class="px-4 py-2 rounded-lg bg-white/90 backdrop-blur-sm shadow-lg border-2 border-white/50 cursor-pointer hover:bg-white transition-all">
      <option value="ko">ğŸ‡°ğŸ‡· í•œêµ­ì–´</option>
      <option value="en">ğŸ‡ºğŸ‡¸ English</option>
      <option value="ja">ğŸ‡¯ğŸ‡µ æ—¥æœ¬èª</option>
      <option value="zh">ğŸ‡¨ğŸ‡³ ä¸­æ–‡</option>
      <option value="es">ğŸ‡ªğŸ‡¸ EspaÃ±ol</option>
      <option value="fr">ğŸ‡«ğŸ‡· FranÃ§ais</option>
      <option value="de">ğŸ‡©ğŸ‡ª Deutsch</option>
      <option value="pt">ğŸ‡§ğŸ‡· PortuguÃªs</option>
      <option value="ru">ğŸ‡·ğŸ‡º Ğ ÑƒÑÑĞºĞ¸Ğ¹</option>
      <option value="ar">ğŸ‡¸ğŸ‡¦ Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©</option>
    </select>
  </div>

  <!-- ì‹œì‘ í™”ë©´ -->
  <div id="start-screen" class="screen active min-h-screen flex flex-col items-center justify-center p-4 md:p-8">
    <div class="max-w-4xl w-full">

      <!-- ìƒë‹¨ ê´‘ê³  -->
      <div class="mb-6 flex justify-center">
        <ins class="adsbygoogle block"
             style="display:block; max-height:90px;"
             data-ad-format="horizontal"
             data-ad-client="ca-pub-1247545232353663"
             data-full-width-responsive="true"></ins>
      </div>

      <!-- ë©”ì¸ ì¹´ë“œ -->
      <div class="bg-white rounded-3xl shadow-2xl p-6 md:p-10">
        <h1 class="text-4xl md:text-6xl font-bold text-center text-green-600 mb-4">
          âš¡ <span data-i18n="title">Typing Speed Test</span>
        </h1>
        <p class="text-lg md:text-xl text-center text-gray-600 mb-8" data-i18n="subtitle">Test your typing speed and accuracy!</p>

      <!-- ê²Œì„ ë°©ë²• -->
      <div class="bg-gray-50 rounded-2xl p-6 mb-8">
        <h3 class="text-xl font-bold text-green-600 mb-4" data-i18n="gameMethod">How to Play</h3>
        <ol class="list-decimal list-inside space-y-2 text-gray-700">
          <li data-i18n="typingMethodDesc.0">Text appears on screen</li>
          <li data-i18n="typingMethodDesc.1">Type as fast and accurately as possible</li>
          <li data-i18n="typingMethodDesc.2">Your WPM and accuracy are calculated!</li>
        </ol>
      </div>

        <!-- ì‹œê°„ ì„ íƒ -->
        <div class="mb-8">
          <h3 class="text-xl font-bold text-center mb-4" data-i18n="selectDuration">Select Duration</h3>
          <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
            <button class="duration-btn border-2 border-gray-300 rounded-xl p-6 hover:border-green-500 hover:shadow-lg transition-all duration-300 hover:-translate-y-1" data-duration="30">
              <div class="text-4xl mb-2">ğŸ•µ</div>
              <div class="font-bold text-lg mb-1">30</div>
              <div class="text-sm text-gray-500" data-i18n="seconds">seconds</div>
            </button>
            <button class="duration-btn active border-2 border-green-500 bg-gradient-to-br from-green-500 to-teal-600 text-white rounded-xl p-6 shadow-lg" data-duration="60">
              <div class="text-4xl mb-2">ğŸ•‘</div>
              <div class="font-bold text-lg mb-1">60</div>
              <div class="text-sm opacity-90" data-i18n="seconds">seconds</div>
            </button>
            <button class="duration-btn border-2 border-gray-300 rounded-xl p-6 hover:border-green-500 hover:shadow-lg transition-all duration-300 hover:-translate-y-1" data-duration="120">
              <div class="text-4xl mb-2">â±ï¸</div>
              <div class="font-bold text-lg mb-1">120</div>
              <div class="text-sm text-gray-500" data-i18n="seconds">seconds</div>
            </button>
          </div>
        </div>

        <!-- ì‹œì‘ ë²„íŠ¼ -->
        <button id="start-btn" class="w-full bg-gradient-to-r from-green-500 to-teal-600 text-white font-bold text-xl md:text-2xl py-4 md:py-6 rounded-full shadow-xl hover:shadow-2xl hover:-translate-y-1 transition-all duration-300">
          <span data-i18n="startTest">Start Test</span>
        </button>

        <!-- ìµœê³  ê¸°ë¡ -->
        <div class="mt-6 text-center text-gray-600">
          <p>ğŸ† <span data-i18n="myBestRecord">My Best Record</span>: <span id="best-record">-- WPM</span></p>
        </div>
        </div>
      </div>

      <button id="start-btn" class="w-full bg-gradient-to-r from-green-500 to-teal-600 text-white font-bold text-xl py-4 rounded-full shadow-xl hover:shadow-2xl hover:-translate-y-1 transition-all">
        <span data-i18n="startTest">Start Test</span>
      </button>

      <div class="mt-6 text-center text-gray-600">
        <p>ğŸ† <span data-i18n="bestRecord">Best Record</span>: <span id="best-record">-- WPM</span></p>
      </div>

      <!-- ë‚´ ê¸°ë¡ TOP 10 -->
      <div class="mt-8">
        <h3 class="text-xl font-bold text-center mb-4">ğŸ“Š <span data-i18n="myRecordsTop10">My Top 10 Records</span></h3>
        <div id="history-list" class="bg-gray-50 rounded-2xl p-4 max-h-80 overflow-y-auto">
          <p class="text-center text-gray-500 py-8" data-i18n="noRecordsYet">No records yet. Start now!</p>
        </div>
      </div>

      <!-- ë‹¤ë¥¸ ê²Œì„ ì„¹ì…˜ -->
      <div class="mt-8 border-t border-gray-200 pt-8">
        <h3 class="text-xl font-bold text-center mb-4">ğŸ® <span data-i18n="otherGames">Other Games</span></h3>
        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
          <a href="index.html" class="block bg-gradient-to-br from-purple-500 to-pink-600 rounded-xl p-6 text-white hover:shadow-xl transition-all duration-300 hover:-translate-y-1">
            <div class="text-3xl mb-2">ğŸ¯</div>
            <div class="font-bold text-lg mb-2" data-i18n="fpsReactionTest">FPS Reaction Test</div>
            <div class="text-sm opacity-90" data-i18n="fpsReactionDesc">Test your reaction speed</div>
          </a>

          <a href="memory-test.html" class="block bg-gradient-to-br from-blue-500 to-purple-600 rounded-xl p-6 text-white hover:shadow-xl transition-all duration-300 hover:-translate-y-1">
            <div class="text-3xl mb-2">ğŸ§ </div>
            <div class="font-bold text-lg mb-2" data-i18n="memoryTest">Memory Test</div>
            <div class="text-sm opacity-90" data-i18n="memoryTestDesc">Test your memory skills</div>
          </a>

          <a href="aim-trainer.html" class="block bg-gradient-to-br from-orange-500 to-red-600 rounded-xl p-6 text-white hover:shadow-xl transition-all duration-300 hover:-translate-y-1">
            <div class="text-3xl mb-2">ğŸ¯</div>
            <div class="font-bold text-lg mb-2" data-i18n="aimTrainer">Aim Trainer</div>
            <div class="text-sm opacity-90" data-i18n="aimTrainerDesc">Improve your aim precision</div>
          </a>

          <a href="math-challenge.html" class="block bg-gradient-to-br from-yellow-500 to-orange-600 rounded-xl p-6 text-white hover:shadow-xl transition-all duration-300 hover:-translate-y-1">
            <div class="text-3xl mb-2">ğŸ”¢</div>
            <div class="font-bold text-lg mb-2" data-i18n="mathChallenge">Math Challenge</div>
            <div class="text-sm opacity-90" data-i18n="mathChallengeDesc">Quick math calculations</div>
          </a>
        </div>
      </div>
    </div>
  </div>

  <!-- ê²Œì„ í™”ë©´ -->
  <div id="game-screen" class="screen hidden min-h-screen flex flex-col items-center justify-center p-4">
    <div class="max-w-3xl w-full bg-white rounded-3xl shadow-2xl p-6 md:p-10">
      <!-- íƒ€ì´ë¨¸ -->
      <div class="text-center mb-6">
        <div class="text-5xl font-bold text-green-600" id="timer-display">60</div>
        <div class="text-gray-500" data-i18n="secondsLeft">seconds left</div>
      </div>

      <!-- í…ìŠ¤íŠ¸ í‘œì‹œ -->
      <div id="text-display" class="text-2xl leading-relaxed mb-6 p-6 bg-gray-50 rounded-2xl min-h-[200px] font-mono">
        <!-- í…ìŠ¤íŠ¸ê°€ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤ -->
      </div>

      <!-- ì…ë ¥ í•„ë“œ -->
      <input type="text" id="typing-input" class="w-full text-2xl p-4 border-4 border-green-500 rounded-xl focus:outline-none focus:border-teal-600 font-mono" placeholder="Start typing..." autocomplete="off" disabled>

      <!-- í†µê³„ -->
      <div class="grid grid-cols-2 gap-4 mt-6">
        <div class="bg-green-50 rounded-xl p-4 text-center">
          <div class="text-gray-600 text-sm" data-i18n="wpm">WPM</div>
          <div id="wpm-display" class="text-3xl font-bold text-green-600">0</div>
        </div>
        <div class="bg-teal-50 rounded-xl p-4 text-center">
          <div class="text-gray-600 text-sm" data-i18n="accuracy">Accuracy</div>
          <div id="accuracy-display" class="text-3xl font-bold text-teal-600">100%</div>
        </div>
      </div>
    </div>
  </div>

  <!-- ê²°ê³¼ í™”ë©´ -->
  <div id="result-screen" class="screen hidden min-h-screen flex flex-col items-center justify-center p-4">
    <div class="max-w-2xl w-full bg-white rounded-3xl shadow-2xl p-6 md:p-10">
      <h1 class="text-4xl font-bold text-center text-green-600 mb-8">
        ğŸ‰ <span data-i18n="complete">Complete!</span>
      </h1>

      <div class="bg-gradient-to-br from-green-500 to-teal-600 text-white rounded-2xl p-8 mb-6">
        <div class="text-center mb-6">
          <div class="text-lg opacity-90 mb-2" data-i18n="yourSpeed">Your Typing Speed</div>
          <div id="final-wpm" class="text-6xl font-bold">0</div>
          <div class="text-2xl mt-2">WPM</div>
        </div>

        <div class="grid grid-cols-2 gap-4">
          <div class="bg-white/20 rounded-xl p-4 text-center">
            <div class="text-sm opacity-90" data-i18n="accuracy">Accuracy</div>
            <div id="final-accuracy" class="text-2xl font-bold">100%</div>
          </div>
          <div class="bg-white/20 rounded-xl p-4 text-center">
            <div class="text-sm opacity-90" data-i18n="cpm">CPM</div>
            <div id="final-cpm" class="text-2xl font-bold">0</div>
          </div>
        </div>
      </div>

      <div class="flex gap-4">
        <button id="retry-btn" class="flex-1 bg-gradient-to-r from-green-500 to-teal-600 text-white font-bold text-xl py-4 rounded-full shadow-xl hover:shadow-2xl hover:-translate-y-1 transition-all">
          <span data-i18n="tryAgain">Try Again</span>
        </button>
        <button id="home-btn" class="flex-1 bg-white text-green-600 border-2 border-green-600 font-bold text-xl py-4 rounded-full hover:bg-green-600 hover:text-white transition-all">
          <span data-i18n="backHome">Home</span>
        </button>
      </div>
    </div>

    <!-- í•˜ë‹¨ ê´‘ê³  -->
    <div class="mt-6 flex justify-center">
      <ins class="adsbygoogle block"
           style="display:block; min-height:250px;"
           data-ad-format="autorelaxed"
           data-ad-client="ca-pub-1247545232353663"
           data-full-width-responsive="true"></ins>
    </div>
  </div>

  <!-- Footer -->
  <footer class="w-full py-6 text-center text-white bg-gray-900">
    <p class="mb-2">Made with â¤ï¸ | Typing Speed Test</p>
    <p class="text-sm">
      <a href="privacy.html" class="text-white hover:underline mx-2" data-i18n="privacyPolicy">Privacy Policy</a> |
      <a href="terms.html" class="text-white hover:underline mx-2" data-i18n="termsOfService">Terms of Service</a>
    </p>
  </footer>

  <!-- AdSense ì´ˆê¸°í™” -->
  <script>
    (adsbygoogle = window.adsbygoogle || []).push({});
  </script>

  <script>
    // ë²ˆì—­
    const translations = {
      ko: {
        title: 'íƒ€ì´í•‘ ì†ë„ í…ŒìŠ¤íŠ¸',
        subtitle: 'íƒ€ì´í•‘ ì†ë„ì™€ ì •í™•ë„ë¥¼ ì¸¡ì •í•˜ì„¸ìš”!',
        selectDuration: 'ì‹œê°„ ì„ íƒ',
        seconds: 'ì´ˆ',
        startTest: 'í…ŒìŠ¤íŠ¸ ì‹œì‘',
        bestRecord: 'ìµœê³  ê¸°ë¡',
        secondsLeft: 'ì´ˆ ë‚¨ìŒ',
        wpm: 'ë¶„ë‹¹ íƒ€ìˆ˜',
        accuracy: 'ì •í™•ë„',
        complete: 'ì™„ë£Œ!',
        yourSpeed: 'íƒ€ì´í•‘ ì†ë„',
        cpm: 'ë¶„ë‹¹ ê¸€ììˆ˜',
        tryAgain: 'ë‹¤ì‹œ í•˜ê¸°',
        backHome: 'í™ˆìœ¼ë¡œ',
        privacyPolicy: 'ê°œì¸ì •ë³´ì²˜ë¦¬ë°©ì¹¨',
        termsOfService: 'ì´ìš©ì•½ê´€'
      },
      en: {
        title: 'Typing Speed Test',
        subtitle: 'Test your typing speed and accuracy!',
        selectDuration: 'Select Duration',
        seconds: 'seconds',
        startTest: 'Start Test',
        bestRecord: 'Best Record',
        secondsLeft: 'seconds left',
        wpm: 'WPM',
        accuracy: 'Accuracy',
        complete: 'Complete!',
        yourSpeed: 'Your Typing Speed',
        cpm: 'CPM',
        tryAgain: 'Try Again',
        backHome: 'Home',
        privacyPolicy: 'Privacy Policy',
        termsOfService: 'Terms of Service'
      }
    };

    // ëœë¤ í…ìŠ¤íŠ¸ (ì–¸ì–´ë³„)
    const textPool = {
      ko: [
        'ë¹ ë¥¸ ê°ˆìƒ‰ ì—¬ìš°ê°€ ê²Œìœ¼ë¥¸ ê°œë¥¼ ë›°ì–´ë„˜ìŠµë‹ˆë‹¤. ì—°ìŠµì€ ì™„ë²½ì„ ë§Œë“­ë‹ˆë‹¤. ê¾¸ì¤€í•¨ì´ ì¤‘ìš”í•©ë‹ˆë‹¤.',
        'í”„ë¡œê·¸ë˜ë°ì€ ë¬¸ì œë¥¼ í•´ê²°í•˜ëŠ” ì˜ˆìˆ ì…ë‹ˆë‹¤. ì½”ë“œëŠ” ìƒê°ì„ í‘œí˜„í•˜ëŠ” ì–¸ì–´ì…ë‹ˆë‹¤.',
        'ì¸ìƒì€ ìì „ê±°ë¥¼ íƒ€ëŠ” ê²ƒê³¼ ê°™ìŠµë‹ˆë‹¤. ê· í˜•ì„ ìœ ì§€í•˜ë ¤ë©´ ê³„ì† ì›€ì§ì—¬ì•¼ í•©ë‹ˆë‹¤.',
        'ì„±ê³µì˜ ë¹„ê²°ì€ ì‹œì‘í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤. ì™„ë²½í•  ë•Œê¹Œì§€ ê¸°ë‹¤ë¦¬ì§€ ë§ˆì„¸ìš”.',
        'ì˜¤ëŠ˜ì˜ ë‚˜ëŠ” ì–´ì œì˜ ë‚˜ë³´ë‹¤ ë‚˜ì•„ì ¸ì•¼ í•©ë‹ˆë‹¤. ì‘ì€ ì§„ë³´ë¼ë„ ì§„ë³´ì…ë‹ˆë‹¤.',
        'ë…ì„œëŠ” ë§ˆìŒì˜ ì–‘ì‹ì…ë‹ˆë‹¤. ì±…ì€ ìš°ë¦¬ë¥¼ ìƒˆë¡œìš´ ì„¸ê³„ë¡œ ì•ˆë‚´í•©ë‹ˆë‹¤.',
        'ìŒì•…ì€ ì˜í˜¼ì˜ ì–¸ì–´ì…ë‹ˆë‹¤. ìŒì•…ì„ í†µí•´ ìš°ë¦¬ëŠ” í•˜ë‚˜ê°€ ë©ë‹ˆë‹¤.',
        'ì—¬í–‰ì€ ìƒˆë¡œìš´ ê²½í—˜ì„ ìŒ“ëŠ” ìµœê³ ì˜ ë°©ë²•ì…ë‹ˆë‹¤. ì„¸ìƒì€ ë„“ê³  ì•„ë¦„ë‹µìŠµë‹ˆë‹¤.'
      ],
      en: [
        'The quick brown fox jumps over the lazy dog. Practice makes perfect. Consistency is key to improvement.',
        'Programming is the art of solving problems. Code is the language of thoughts and ideas.',
        'Life is like riding a bicycle. To keep your balance you must keep moving forward.',
        'The secret of getting ahead is getting started. Do not wait until everything is perfect.',
        'Be better today than you were yesterday. Small progress is still progress and matters.',
        'Reading is food for the mind. Books transport us to new worlds and perspectives.',
        'Music is the language of the soul. Through music we connect and become one.',
        'Travel is the best way to gain new experiences. The world is vast and beautiful.'
      ]
    };

    let currentLang = localStorage.getItem('preferredLanguage') || 'en';
    const languageSelector = document.getElementById('language-selector');
    languageSelector.value = currentLang;

    function t(key) {
      return translations[currentLang][key] || key;
    }

    function updateLanguage() {
      document.querySelectorAll('[data-i18n]').forEach(el => {
        const key = el.getAttribute('data-i18n');
        el.textContent = t(key);
      });
    }

    languageSelector.addEventListener('change', (e) => {
      currentLang = e.target.value;
      localStorage.setItem('preferredLanguage', currentLang);
      updateLanguage();
    });

    updateLanguage();

    // ê²Œì„ ë³€ìˆ˜
    let duration = 60;
    let timeLeft = 60;
    let timerInterval = null;
    let targetText = '';
    let typedText = '';
    let correctChars = 0;
    let totalChars = 0;
    let startTime = 0;

    // ë²„íŠ¼ ì´ë²¤íŠ¸
    document.querySelectorAll('.duration-btn').forEach(btn => {
      btn.addEventListener('click', () => {
        document.querySelectorAll('.duration-btn').forEach(b => {
          b.classList.remove('active', 'border-green-500', 'bg-gradient-to-br', 'from-green-500', 'to-teal-600', 'text-white', 'shadow-lg');
          b.classList.add('border-gray-300');
        });
        btn.classList.remove('border-gray-300');
        btn.classList.add('active', 'border-green-500', 'bg-gradient-to-br', 'from-green-500', 'to-teal-600', 'text-white', 'shadow-lg');
        duration = parseInt(btn.dataset.duration);
      });
    });

    document.getElementById('start-btn').addEventListener('click', startGame);
    document.getElementById('retry-btn').addEventListener('click', () => {
      hideScreen(document.getElementById('result-screen'));
      showScreen(document.getElementById('start-screen'));
    });
    document.getElementById('home-btn').addEventListener('click', () => {
      window.location.href = 'index.html';
    });

    function startGame() {
      hideScreen(document.getElementById('start-screen'));
      showScreen(document.getElementById('game-screen'));

      initGame();
    }

    function initGame() {
      // ëœë¤ í…ìŠ¤íŠ¸ ì„ íƒ
      const texts = textPool[currentLang];
      targetText = texts[Math.floor(Math.random() * texts.length)];

      timeLeft = duration;
      typedText = '';
      correctChars = 0;
      totalChars = 0;

      // í…ìŠ¤íŠ¸ í‘œì‹œ
      renderText();

      // íƒ€ì´ë¨¸ ì‹œì‘
      document.getElementById('timer-display').textContent = timeLeft;
      document.getElementById('typing-input').value = '';
      document.getElementById('typing-input').disabled = false;
      document.getElementById('typing-input').focus();

      startTime = Date.now();
      timerInterval = setInterval(() => {
        timeLeft--;
        document.getElementById('timer-display').textContent = timeLeft;

        if (timeLeft <= 0) {
          endGame();
        }
      }, 1000);

      // ì…ë ¥ ì´ë²¤íŠ¸
      const input = document.getElementById('typing-input');
      input.addEventListener('input', handleTyping);
    }

    function renderText() {
      const display = document.getElementById('text-display');
      display.innerHTML = '';

      for (let i = 0; i < targetText.length; i++) {
        const span = document.createElement('span');
        span.textContent = targetText[i];
        span.className = 'text-gray-400';

        if (i < typedText.length) {
          if (typedText[i] === targetText[i]) {
            span.className = 'text-green-600';
          } else {
            span.className = 'text-red-600 bg-red-100';
          }
        } else if (i === typedText.length) {
          span.className = 'text-gray-800 bg-yellow-200';
        }

        display.appendChild(span);
      }
    }

    function handleTyping(e) {
      typedText = e.target.value;
      totalChars = typedText.length;

      // ì •í™•í•œ ê¸€ì ìˆ˜ ê³„ì‚°
      correctChars = 0;
      for (let i = 0; i < typedText.length && i < targetText.length; i++) {
        if (typedText[i] === targetText[i]) {
          correctChars++;
        }
      }

      renderText();
      updateStats();

      // ì™„ë£Œ ì²´í¬
      if (typedText === targetText) {
        endGame();
      }
    }

    function updateStats() {
      const elapsed = (Date.now() - startTime) / 1000 / 60; // ë¶„ ë‹¨ìœ„
      const wpm = Math.round((correctChars / 5) / elapsed);
      const accuracy = totalChars > 0 ? Math.round((correctChars / totalChars) * 100) : 100;

      document.getElementById('wpm-display').textContent = wpm;
      document.getElementById('accuracy-display').textContent = accuracy + '%';
    }

    function endGame() {
      clearInterval(timerInterval);
      document.getElementById('typing-input').disabled = true;

      const elapsed = (Date.now() - startTime) / 1000 / 60;
      const wpm = Math.round((correctChars / 5) / elapsed);
      const cpm = Math.round(correctChars / elapsed);
      const accuracy = totalChars > 0 ? Math.round((correctChars / totalChars) * 100) : 100;

      document.getElementById('final-wpm').textContent = wpm;
      document.getElementById('final-cpm').textContent = cpm;
      document.getElementById('final-accuracy').textContent = accuracy + '%';

      // ìµœê³  ê¸°ë¡ ì €ì¥
      const key = `typingBest_${duration}`;
      const best = localStorage.getItem(key);
      if (!best || wpm > parseInt(best)) {
        localStorage.setItem(key, wpm);
      }

      hideScreen(document.getElementById('game-screen'));
      showScreen(document.getElementById('result-screen'));
    }

    function showScreen(screen) {
      screen.classList.remove('hidden');
      screen.classList.add('active');
    }

    function hideScreen(screen) {
      screen.classList.add('hidden');
      screen.classList.remove('active');
    }

    function loadBestRecord() {
      const key = `typingBest_${duration}`;
      const best = localStorage.getItem(key);
      document.getElementById('best-record').textContent = best ? `${best} WPM` : '-- WPM';
    }

    loadBestRecord();
  </script>
</body>
</html>
